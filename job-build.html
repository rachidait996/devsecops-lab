<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[Job: Build] - Pipeline DevSecOps</title>
  <link href="output.css" rel="stylesheet" />
  <style>
    :root {
      --ocp: #009639;
      --ocp-dark: #007d2a;
    }
    .code-block {
      background: #f1f5f9;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      padding: 1rem 1.2rem;
      font-family: Menlo, monospace;
      font-size: 0.875rem;
      overflow-x: auto;
    }
    hr {
      border: none;
      border-top: 2px solid #e4e4e7;
      margin: 4rem 0;
    }
        footer{ text-align:center; font-size:.85rem; padding:2rem 0; color:#666;}

  </style>
</head>

<body class="bg-zinc-100 text-zinc-800 leading-relaxed">
  <header class="text-center py-10">
    <h1 class="text-3xl font-bold">Job <span class="text-[color:var(--ocp)]">Build</span> – Pipeline DevSecOps</h1>
    <p class="text-zinc-600 mt-2">Création et publication de l'image Docker dans Harbor</p>
  </header>

  <main class="max-w-4xl mx-auto px-6 pb-24">

    <!-- Qu'est-ce que Harbor -->
    <section class="mt-14">
      <h2 class="text-2xl font-semibold mb-4 text-[color:var(--ocp)]">Qu’est-ce que Harbor ?</h2>
      <p>
        <strong>Harbor</strong> est un registre privé d’images Docker. C’est un outil essentiel dans une chaîne DevSecOps moderne.
        Il permet de <strong>stocker, organiser, sécuriser</strong> et <strong>scanner</strong> les images Docker utilisées dans les projets.
      </p>

      <div class="mt-6 bg-white p-5 rounded shadow flex items-center gap-4">
        <img src="assets/images/warehouse.png" alt="Entrepôt Docker" class="w-20 h-20">
        <p class="text-zinc-700">
          Imagine Harbor comme un <strong>entrepôt sécurisé</strong>. Chaque image Docker est un colis étiqueté que vous y déposez.
          L’entrepôt enregistre tout : qui l’a mis, quand, s’il est sain ou vulnérable.
        </p>
      </div>

      <div class="mt-6">
        <a href="https://goharbor.io/docs/" target="_blank" class="underline text-[color:var(--ocp-dark)] font-medium hover:text-[color:var(--ocp)]">
          Voir la documentation officielle de Harbor →
        </a>
      </div>
    </section>

    <hr>

    <!-- Rôle du job Build -->
    <section class="mt-14">
      <h2 class="text-2xl font-semibold mb-4 text-[color:var(--ocp)]">Rôle du job <code>build</code></h2>
      <p>
        Lorsqu’un développeur pousse du code sur GitLab, le pipeline s’active.
        Le job <strong>build</strong> se charge de créer une image Docker à partir de ce code, puis de l’envoyer dans Harbor.
        Cela garantit que le même environnement sera utilisé par tous les membres de l’équipe, et que l’image pourra être scannée et versionnée.
      </p>

      <div class="mt-6 text-center">
        <img src="assets/images/build-pipeline.png" alt="Schéma Build vers Harbor" class="mx-auto rounded shadow border border-zinc-300">
        <p class="text-sm text-zinc-500 mt-2">Extrait de l’interface Harbor montrant une image Docker versionnée</p>
      </div>
    </section>

    <hr>

    <!-- Utilité -->
    <section class="mt-14">
      <h2 class="text-2xl font-semibold mb-4 text-[color:var(--ocp)]">À quoi ça sert ?</h2>
      <ul class="list-disc list-inside space-y-2">
        <li><strong>Centraliser</strong> toutes les images Docker du projet</li>
        <li><strong>Partager</strong> les conteneurs de manière standardisée</li>
        <li><strong>Scanner automatiquement</strong> les vulnérabilités via Trivy</li>
        <li><strong>Assurer la traçabilité</strong> des versions utilisées</li>
        <li><strong>Contrôler les accès</strong> par utilisateur ou projet</li>
      </ul>

     
    </section>

    <!-- Navigation -->
    <div class="flex justify-between flex-wrap gap-4 mt-20">
      <a href="pipeline-overview (1).html"
         class="px-4 py-2 rounded bg-zinc-200 text-zinc-700 hover:bg-zinc-300 transition">
        ← Retour : Vue d'ensemble
      </a>

      <a href="job-scan-trivy.html"
         class="px-4 py-2 rounded text-white"
         style="background:var(--ocp);"
         onmouseover="this.style.background='var(--ocp-dark)'"
         onmouseout="this.style.background='var(--ocp)'">
        Étape suivante : Scan Trivy →
      </a>
    </div>
  </main>

  <footer>
    © <a href ="https://www.linkedin.com/in/rachid-ait-lmaati-540756286/" class="underline font-semibold" target="_blank" rel="noopener">AIT LMAATI Rachid</a> 2025 — Projet DevSecOps • OCP
  </footer>
</body>
</html>
