<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gitleaks, npm audit & ZAP</title>
  <link href="output.css" rel="stylesheet" />
  <style>
    :root {
      --ocp: #009639;
      --ocp-dark: #007d2a;
    }
    hr {
      border: none;
      border-top: 2px solid #e4e4e7;
      margin: 4rem 0;
    }
    footer { text-align: center; font-size: .85rem; padding: 2rem 0; color: #666; }
  </style>
</head>

<body class="bg-zinc-100 text-zinc-800 leading-relaxed">
  <header class="text-center py-10">
    <h1 class="text-3xl font-bold">
      Analyse Complémentaire du Pipeline CI – <span class="text-[color:var(--ocp)]">Gitleaks, npm audit & ZAP</span>
    </h1>
    <p class="text-zinc-600 mt-2">Inspection des secrets, des dépendances et des failles dynamiques</p>
  </header>

  <main class="max-w-5xl mx-auto px-6 pb-24">

    <!-- Capture globale -->
   <!-- Capture du pipeline complet -->
<section class="mb-16">
  <h2 class="text-2xl font-semibold mb-6 text-[color:var(--ocp)]">Vue d'ensemble du pipeline CI/CD sécurisé</h2>
  <p class="mb-4">
    Cette capture montre l’exécution complète du pipeline CI/CD utilisé dans ce projet.  
    Chaque étape est visible : de la construction de l’image à l’analyse de sécurité dynamique, en passant par les audits de dépendances et de secrets.
  </p>
  <img src="assets/images/tools-global-screenshot.png" alt="Pipeline CI/CD avec outils de sécurité" class="rounded border w-full max-w-3xl mx-auto">
</section>


    <hr>

    <!-- Gitleaks -->
    <section class="mb-16">
      <h2 class="text-2xl font-semibold mb-6 text-[color:var(--ocp)]">1. Gitleaks – Détection de secrets exposés</h2>
      <div class="grid md:grid-cols-5 gap-8 items-start">
        <div class="md:col-span-1 flex justify-center">
          <img src="assets/images/logo-gitleaks.png" alt="Logo Gitleaks" class="w-40 h-20">
        </div>
        <div class="md:col-span-4">
          <p>
            <strong>Gitleaks</strong> scanne le dépôt Git à la recherche de secrets sensibles : clés API, tokens, mots de passe...  
            C’est un outil préventif indispensable dans tout pipeline DevSecOps.
          </p>
          <p class="mt-3">
            Dans ton pipeline, il s'exécute sans dépendre de l'historique Git (<code>--no-git</code>), ce qui lui permet de scanner aussi les fichiers temporaires.  
            Le rapport généré en JSON est archivé comme artefact et permet un suivi automatique des fuites potentielles.
          </p>
        </div>
      </div>
    </section>

    <!-- npm audit -->
    <section class="mb-16">
      <h2 class="text-2xl font-semibold mb-6 text-[color:var(--ocp)]">2. npm audit – Audit des dépendances JavaScript</h2>
      <div class="grid md:grid-cols-5 gap-8 items-start">
        <div class="md:col-span-1 flex justify-center">
          <img src="assets/images/logo-npm.png" alt="Logo npm" class="w-40 h-40">
        </div>
        <div class="md:col-span-4">
          <p>
            <strong>npm audit</strong> analyse les dépendances déclarées dans <code>package.json</code> pour détecter les vulnérabilités connues.
          </p>
          <p class="mt-3">
            Dans le pipeline, la commande <code>npm audit --json</code> est exécutée à chaque commit.  
            Le rapport inclut le niveau de gravité de chaque vulnérabilité, les chemins d'accès, et parfois des correctifs proposés.
            Les failles <strong>critiques ou hautes</strong> sont marquées en priorité.
          </p>
        </div>
      </div>
    </section>

    <!-- ZAP -->
    <section class="mb-16">
      <h2 class="text-2xl font-semibold mb-6 text-[color:var(--ocp)]">3. OWASP ZAP – Test dynamique de l’application (DAST)</h2>
      <div class="grid md:grid-cols-5 gap-8 items-start">
        <div class="md:col-span-1 flex justify-center">
          <img src="assets/images/logo-zap.png" alt="Logo ZAP" class="w-40 h-40">
        </div>
        <div class="md:col-span-4">
          <p>
            <strong>OWASP ZAP</strong> est un outil de <strong>DAST</strong> (Dynamic Application Security Testing) qui simule une attaque réelle contre l’application.
          </p>
          <p class="mt-3">
            Intégré dans ton pipeline, il est exécuté via Docker avec le script <code>zap-baseline.py</code>, ciblant l’instance publique de Juice Shop.  
            Ce script effectue un scan non authentifié et génère un rapport HTML avec :
          </p>
          <ul class="list-disc list-inside mt-3">
            <li>erreurs HTTP,</li>
            <li>problèmes de configuration,</li>
            <li>formulaires mal protégés,</li>
            <li>headers de sécurité manquants.</li>
          </ul>
          <p class="mt-3">
            Ce test vient compléter les analyses statiques (comme SonarQube) en inspectant l'application **en fonctionnement**, comme le ferait un attaquant.
          </p>
        </div>
      </div>
    </section>

    <!-- Navigation -->
    <div class="flex justify-between flex-wrap gap-4 mt-20">
      <a href="job-sonarqube.html"
         class="px-4 py-2 rounded bg-zinc-200 text-zinc-700 hover:bg-zinc-300 transition">
        ← Étape précédente
      </a>

      <a href="fin.html"
         class="px-4 py-2 rounded text-white"
         style="background:var(--ocp);"
         onmouseover="this.style.background='var(--ocp-dark)'"
         onmouseout="this.style.background='var(--ocp)'">
        conclusion→
      </a>
    </div>
  </main>

  <footer>
    © <a href="https://www.linkedin.com/in/rachid-ait-lmaati-540756286/" class="underline font-semibold" target="_blank" rel="noopener">AIT LMAATI Rachid</a> 2025 — Projet DevSecOps 
  </footer>
</body>
</html>
